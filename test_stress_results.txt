===== Run #1 =====
> Task :common:compileJava UP-TO-DATE
> Task :bootstrap-server:compileJava UP-TO-DATE
> Task :bootstrap-server:processResources NO-SOURCE
> Task :bootstrap-server:classes UP-TO-DATE
> Task :common:processResources NO-SOURCE
> Task :common:classes UP-TO-DATE
> Task :common:jar UP-TO-DATE
> Task :bootstrap-server:jar UP-TO-DATE
> Task :peer-node:compileJava UP-TO-DATE
> Task :peer-node:processResources NO-SOURCE
> Task :peer-node:classes UP-TO-DATE
> Task :peer-node:compileTestJava UP-TO-DATE
> Task :peer-node:processTestResources NO-SOURCE
> Task :peer-node:testClasses UP-TO-DATE

> Task :peer-node:test

FriendManagerTest > GetFriendByUsername should be case-insensitive STANDARD_OUT
    User{username='Bob', userId='bd40dbbe-9a72-4a6f-873c-fd69c6fd1d35', ip='192.168.1.2', port=5002}

FriendManagerTest > GetFriendByUsername should be case-insensitive PASSED

FriendManagerTest > HandleFriendRequest should not duplicate pending requests PASSED

FriendManagerTest > HandleFriendRequest should ignore if already friends PASSED

FriendManagerTest > GetPendingRequests should return empty list initially PASSED

FriendManagerTest > GetFriendByUsername should return null if not found PASSED

FriendManagerTest > IsFriend should check friend status PASSED

FriendManagerTest > HandleFriendAcceptance should add to friends PASSED

FriendManagerTest > GetFriendByUsername should find friend PASSED

FriendManagerTest > HandleFriendRequest should add to pending requests PASSED

FriendManagerTest > GetFriends should return empty list initially PASSED

GroupChatIntegrationTest STANDARD_OUT
    [GroupChatTest] Bootstrap server started on port 14099

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_OUT
    [RMI] Server started on port 16001
    [Registry] User registered: Alice
    [RMI] Server started on port 16002
    [Registry] User registered: Bob
    [RMI] Server started on port 16003
    [Registry] User registered: Charlie
    [RMI] Server started on port 16004
    [Registry] User registered: David

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_ERROR
    Error: Failed to send to Bob
    Error: Failed to send to Bob

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_OUT
    [RMI] Server started on port 16002
    [TEST]  Test 8: Gossip propagation works - Bob has 2 messages
    [Consensus] Sync complete for group 597db13d-4caf-4830-95c3-172c269188cb - received 2 messages
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals PASSED

GroupChatIntegrationTest > 6. New leader elected when current leader disconnects (6-person group) STANDARD_OUT
    [RMI] Server started on port 16005
    [Registry] User registered: Alice
    [RMI] Server started on port 16006
    [Registry] User registered: Bob
    [RMI] Server started on port 16007
    [Registry] User registered: Charlie
    [RMI] Server started on port 16008
    [Registry] User registered: David
    [RMI] Server started on port 16009
    [Registry] User registered: Eve
    [RMI] Server started on port 16010
    [Registry] User registered: Frank
    [Registry] User unregistered: Alice
    [Gossip] Peer 6f861e69 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 0b33e535 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 4bcca148 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 4ae1c117 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 3be11e10 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 6f861e69 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 0b33e535 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 4bcca148 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 4ae1c117 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 3be11e10 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 6f861e69 suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Triggering leader failure callback for group 44ce90a7-e72c-4fbb-88c5-4a442a48ee93
    [Gossip] Local timeout detected for group LargeElectionGroup
    [TEST]  Test 6: Leader election completed successfully with 5 remaining members
    [TEST] New leader: Charlie
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve
    [Registry] User unregistered: Frank

GroupChatIntegrationTest > 6. New leader elected when current leader disconnects (6-person group) PASSED

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_OUT
    [RMI] Server started on port 16011
    [Registry] User registered: Alice
    [RMI] Server started on port 16012
    [Registry] User registered: Bob
    [RMI] Server started on port 16013
    [Registry] User registered: Charlie

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_ERROR
    Error: Failed to send to Bob after 3 attempts
    Error: Failed to send to Bob after 3 attempts

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_OUT
    [TEST]  Test 7: Concurrent messaging works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently PASSED

GroupChatIntegrationTest > 1. Successful group creation with invitation acceptance and messaging STANDARD_OUT
    [RMI] Server started on port 16014
    [Registry] User registered: Alice
    [RMI] Server started on port 16015
    [Registry] User registered: Bob
    [RMI] Server started on port 16016
    [Registry] User registered: Charlie
    [TEST]  Test 1 passed: Group created successfully with invitations and all members can message
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 1. Successful group creation with invitation acceptance and messaging PASSED

GroupChatIntegrationTest > 4. Group creation requires minimum 3 members (creator + 2) STANDARD_OUT
    [RMI] Server started on port 16017
    [Registry] User registered: Alice
    [RMI] Server started on port 16018
    [Registry] User registered: Bob
    [TEST]  Test 4: Minimum group size validation works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

GroupChatIntegrationTest > 4. Group creation requires minimum 3 members (creator + 2) PASSED

GroupChatIntegrationTest > 3. Group creation fails when invitee has no handler (times out) STANDARD_OUT
    [RMI] Server started on port 16019
    [Registry] User registered: Alice
    [RMI] Server started on port 16020
    [Registry] User registered: Bob
    [RMI] Server started on port 16021
    [Registry] User registered: Charlie
    [TEST]  Test 3: Default rejection works when no handler set
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 3. Group creation fails when invitee has no handler (times out) PASSED

GroupChatIntegrationTest > 11. Large group handles rapid fire messages correctly STANDARD_OUT
    [RMI] Server started on port 16022
    [Registry] User registered: Alice
    [RMI] Server started on port 16023
    [Registry] User registered: Bob
    [RMI] Server started on port 16024
    [Registry] User registered: Charlie
    [RMI] Server started on port 16025
    [Registry] User registered: David
    [RMI] Server started on port 16026
    [Registry] User registered: Eve
    [Gossip] Peer 1ddea6bb suspects leader, we also suspect: false
    [Gossip] Peer 1ddea6bb suspects leader, we also suspect: false
    [Gossip] Peer 1ddea6bb suspects leader, we also suspect: false
    [TEST]  Test 11: Large group messaging verified
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve

GroupChatIntegrationTest > 11. Large group handles rapid fire messages correctly PASSED

GroupChatIntegrationTest > 2. Group creation fails when one member rejects invitation STANDARD_OUT
    [RMI] Server started on port 16027
    [Registry] User registered: Alice
    [RMI] Server started on port 16028
    [Registry] User registered: Bob
    [RMI] Server started on port 16029
    [Registry] User registered: Charlie
    [TEST]  Test 2 passed: Group correctly dissolved when member rejects
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 2. Group creation fails when one member rejects invitation PASSED

GroupChatIntegrationTest > 5. Group auto-dissolves when only 2 members remain STANDARD_OUT
    [RMI] Server started on port 16030
    [Registry] User registered: Alice
    [RMI] Server started on port 16031
    [Registry] User registered: Bob
    [RMI] Server started on port 16032
    [Registry] User registered: Charlie
    [Registry] User unregistered: Alice
    [Gossip] Peer 96ef4af4 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 3, shouldTrigger: true
    [Gossip] Triggering leader failure callback for group 0ce5d133-869d-4723-a80f-aa2a76ee0d9b
    [Gossip] Local timeout detected for group DissolutionGroup
    [TEST]  Test 5: Group auto-dissolution when below minimum size
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 5. Group auto-dissolves when only 2 members remain PASSED

GroupChatIntegrationTest > 10. Multiple users can create different groups concurrently STANDARD_OUT
    [RMI] Server started on port 16033
    [Registry] User registered: Alice
    [RMI] Server started on port 16034
    [Registry] User registered: Bob
    [RMI] Server started on port 16035
    [Registry] User registered: Charlie
    [RMI] Server started on port 16036
    [Registry] User registered: David
    [TEST]  Test 11: Concurrent group creation works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David

GroupChatIntegrationTest > 10. Multiple users can create different groups concurrently PASSED

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_OUT
    [RMI] Server started on port 16037
    [Registry] User registered: Alice
    [RMI] Server started on port 16038
    [Registry] User registered: Bob
    [RMI] Server started on port 16039
    [Registry] User registered: Charlie
    [RMI] Server started on port 16040
    [Registry] User registered: David
    [RMI] Server started on port 16041
    [Registry] User registered: Eve
    [RMI] Server started on port 16042
    [Registry] User registered: Frank

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_ERROR
    Error: Failed to send to Charlie
    Error: Failed to send to David
    Error: Failed to send to Eve
    Error: Failed to send to Charlie
    Error: Failed to send to David
    Error: Failed to send to Eve
    Error: Failed to send to Charlie
    Error: Failed to send to David
    Error: Failed to send to Eve

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_OUT
    [RMI] Server started on port 16039
    [RMI] Server started on port 16040
    [Consensus] Sync complete for group f647a41f-f18d-41fb-8ac4-c5929f6f298a - received 3 messages
    [RMI] Server started on port 16041
    [Consensus] Sync complete for group f647a41f-f18d-41fb-8ac4-c5929f6f298a - received 3 messages
    [Consensus] Sync complete for group f647a41f-f18d-41fb-8ac4-c5929f6f298a - received 3 messages
    [TEST]  Test 9: Staggered sync works - Charlie: 3, David: 3, Eve: 3
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve
    [Registry] User unregistered: Frank

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects PASSED

GroupChatIntegrationTest STANDARD_OUT
    [GroupChatTest] Bootstrap server stopped

PeerIntegrationTest STANDARD_OUT
    [Test] Bootstrap server started on port 13099

PeerIntegrationTest > Peer can start and stop cleanly STANDARD_OUT
    [RMI] Server started on port 15001
    [Registry] User registered: Alice
    [Registry] User unregistered: Alice
    [Test]  Peer lifecycle works

PeerIntegrationTest > Peer can start and stop cleanly PASSED

PeerIntegrationTest > Two peers can connect and discover each other STANDARD_OUT
    [RMI] Server started on port 15002
    [Registry] User registered: Alice
    [RMI] Server started on port 15003
    [Registry] User registered: Bob
    [Test]  Peer discovery works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Two peers can connect and discover each other PASSED

PeerIntegrationTest > Friend request flow: send and accept STANDARD_OUT
    [RMI] Server started on port 15004
    [Registry] User registered: Alice
    [RMI] Server started on port 15005
    [Registry] User registered: Bob
    [Test]  Friend request flow works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Friend request flow: send and accept PASSED

PeerIntegrationTest > Vector clocks synchronize during friend request STANDARD_OUT
    [RMI] Server started on port 15006
    [Registry] User registered: Alice
    [RMI] Server started on port 15007
    [Registry] User registered: Bob
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Vector clocks synchronize during friend request FAILED
    org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
        at app//org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)
        at app//org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:183)
        at app//p2p.peer.integration.PeerIntegrationTest.testVectorClockSync(PeerIntegrationTest.java:184)

PeerIntegrationTest > Multiple friend requests to same user are idempotent STANDARD_OUT
    [RMI] Server started on port 15008
    [Registry] User registered: Alice
    [RMI] Server started on port 15009
    [Registry] User registered: Bob
    [Test]  Duplicate friend requests handled correctly
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Multiple friend requests to same user are idempotent PASSED

PeerIntegrationTest > Messaging between friends STANDARD_OUT
    [RMI] Server started on port 15010
    [Registry] User registered: Alice
    [RMI] Server started on port 15011
    [Registry] User registered: Bob
    [Test]  Messaging works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Messaging between friends PASSED

PeerIntegrationTest > Three peers can all interact STANDARD_OUT
    [RMI] Server started on port 15012
    [Registry] User registered: Alice
    [RMI] Server started on port 15013
    [Registry] User registered: Bob
    [RMI] Server started on port 15014
    [Registry] User registered: Charlie
    [Test]  Three-peer interaction works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

PeerIntegrationTest > Three peers can all interact PASSED

PeerIntegrationTest > Message causality chain is preserved STANDARD_OUT
    [RMI] Server started on port 15015
    [Registry] User registered: Alice
    [RMI] Server started on port 15016
    [Registry] User registered: Bob
    [Test]  Message causality chain preserved (M1 -> M2 -> M3)
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Message causality chain is preserved PASSED

PeerIntegrationTest > Cannot send message to non-friend STANDARD_OUT
    [RMI] Server started on port 15017
    [Registry] User registered: Alice
    [RMI] Server started on port 15018
    [Registry] User registered: Charlie
    [Test]  Cannot send message to non-friend
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Charlie

PeerIntegrationTest > Cannot send message to non-friend PASSED

PeerIntegrationTest > Multiple messages preserve ordering STANDARD_OUT
    [RMI] Server started on port 15019
    [Registry] User registered: Alice
    [RMI] Server started on port 15020
    [Registry] User registered: Bob
    [Test]  Multiple messages preserve ordering
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Multiple messages preserve ordering PASSED

PeerIntegrationTest STANDARD_OUT
    [Test] Bootstrap server stopped

CausalDeliveryManagerTest > Message is deliverable when it's the first from a sender PASSED

CausalDeliveryManagerTest > isDeliverable correctly checks causal dependencies for all processes PASSED

CausalDeliveryManagerTest > Message with unknown causal dependency is buffered PASSED

CausalDeliveryManagerTest > Delivering a message updates the local clock PASSED

CausalDeliveryManagerTest > getPendingMessages returns correct list PASSED

CausalDeliveryManagerTest > Message is buffered when its causal dependencies are not met PASSED

CausalDeliveryManagerTest > Concurrent messages are handled correctly PASSED

CausalDeliveryManagerTest > Buffered messages are delivered when dependencies become available PASSED

CausalDeliveryManagerTest > Messages from multiple senders with interleaved delivery PASSED

40 tests completed, 1 failed

> Task :peer-node:test FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':peer-node:test'.
> There were failing tests. See the report at: file:///home/youssef/projects/java_projects/antigravity_p2p/peer-node/build/reports/tests/test/index.html

* Try:
> Run with --scan to generate a Build Scan (powered by Develocity).

BUILD FAILED in 1m 29s
7 actionable tasks: 1 executed, 6 up-to-date
Exit Code: 1
===== Run #2 =====
> Task :common:compileJava UP-TO-DATE
> Task :bootstrap-server:compileJava UP-TO-DATE
> Task :bootstrap-server:processResources NO-SOURCE
> Task :bootstrap-server:classes UP-TO-DATE
> Task :common:processResources NO-SOURCE
> Task :common:classes UP-TO-DATE
> Task :common:jar UP-TO-DATE
> Task :bootstrap-server:jar UP-TO-DATE
> Task :peer-node:compileJava UP-TO-DATE
> Task :peer-node:processResources NO-SOURCE
> Task :peer-node:classes UP-TO-DATE
> Task :peer-node:compileTestJava UP-TO-DATE
> Task :peer-node:processTestResources NO-SOURCE
> Task :peer-node:testClasses UP-TO-DATE

> Task :peer-node:test

PeerIntegrationTest STANDARD_OUT
    [Test] Bootstrap server started on port 13099

PeerIntegrationTest > Peer can start and stop cleanly STANDARD_OUT
    [RMI] Server started on port 15001
    [Registry] User registered: Alice
    [Registry] User unregistered: Alice
    [Test]  Peer lifecycle works

PeerIntegrationTest > Peer can start and stop cleanly PASSED

PeerIntegrationTest > Two peers can connect and discover each other STANDARD_OUT
    [RMI] Server started on port 15002
    [Registry] User registered: Alice
    [RMI] Server started on port 15003
    [Registry] User registered: Bob
    [Test]  Peer discovery works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Two peers can connect and discover each other PASSED

PeerIntegrationTest > Friend request flow: send and accept STANDARD_OUT
    [RMI] Server started on port 15004
    [Registry] User registered: Alice
    [RMI] Server started on port 15005
    [Registry] User registered: Bob
    [Test]  Friend request flow works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Friend request flow: send and accept PASSED

PeerIntegrationTest > Vector clocks synchronize during friend request STANDARD_OUT
    [RMI] Server started on port 15006
    [Registry] User registered: Alice
    [RMI] Server started on port 15007
    [Registry] User registered: Bob
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Vector clocks synchronize during friend request FAILED
    org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
        at app//org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)
        at app//org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:183)
        at app//p2p.peer.integration.PeerIntegrationTest.testVectorClockSync(PeerIntegrationTest.java:184)

PeerIntegrationTest > Multiple friend requests to same user are idempotent STANDARD_OUT
    [RMI] Server started on port 15008
    [Registry] User registered: Alice
    [RMI] Server started on port 15009
    [Registry] User registered: Bob
    [Test]  Duplicate friend requests handled correctly
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Multiple friend requests to same user are idempotent PASSED

PeerIntegrationTest > Messaging between friends STANDARD_OUT
    [RMI] Server started on port 15010
    [Registry] User registered: Alice
    [RMI] Server started on port 15011
    [Registry] User registered: Bob
    [Test]  Messaging works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Messaging between friends PASSED

PeerIntegrationTest > Three peers can all interact STANDARD_OUT
    [RMI] Server started on port 15012
    [Registry] User registered: Alice
    [RMI] Server started on port 15013
    [Registry] User registered: Bob
    [RMI] Server started on port 15014
    [Registry] User registered: Charlie
    [Test]  Three-peer interaction works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

PeerIntegrationTest > Three peers can all interact PASSED

PeerIntegrationTest > Message causality chain is preserved STANDARD_OUT
    [RMI] Server started on port 15015
    [Registry] User registered: Alice
    [RMI] Server started on port 15016
    [Registry] User registered: Bob
    [Test]  Message causality chain preserved (M1 -> M2 -> M3)
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Message causality chain is preserved PASSED

PeerIntegrationTest > Cannot send message to non-friend STANDARD_OUT
    [RMI] Server started on port 15017
    [Registry] User registered: Alice
    [RMI] Server started on port 15018
    [Registry] User registered: Charlie
    [Test]  Cannot send message to non-friend
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Charlie

PeerIntegrationTest > Cannot send message to non-friend PASSED

PeerIntegrationTest > Multiple messages preserve ordering STANDARD_OUT
    [RMI] Server started on port 15019
    [Registry] User registered: Alice
    [RMI] Server started on port 15020
    [Registry] User registered: Bob
    [Test]  Multiple messages preserve ordering
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Multiple messages preserve ordering PASSED

PeerIntegrationTest STANDARD_OUT
    [Test] Bootstrap server stopped

FriendManagerTest > GetFriendByUsername should be case-insensitive STANDARD_OUT
    User{username='Bob', userId='2a034e45-7010-4729-9e63-323d5cd07afc', ip='192.168.1.2', port=5002}

FriendManagerTest > GetFriendByUsername should be case-insensitive PASSED

FriendManagerTest > HandleFriendRequest should not duplicate pending requests PASSED

FriendManagerTest > HandleFriendRequest should ignore if already friends PASSED

FriendManagerTest > GetPendingRequests should return empty list initially PASSED

FriendManagerTest > GetFriendByUsername should return null if not found PASSED

FriendManagerTest > IsFriend should check friend status PASSED

FriendManagerTest > HandleFriendAcceptance should add to friends PASSED

FriendManagerTest > GetFriendByUsername should find friend PASSED

FriendManagerTest > HandleFriendRequest should add to pending requests PASSED

FriendManagerTest > GetFriends should return empty list initially PASSED

GroupChatIntegrationTest STANDARD_OUT
    [GroupChatTest] Bootstrap server started on port 14099

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_OUT
    [RMI] Server started on port 16001
    [Registry] User registered: Alice
    [RMI] Server started on port 16002
    [Registry] User registered: Bob
    [RMI] Server started on port 16003
    [Registry] User registered: Charlie
    [RMI] Server started on port 16004
    [Registry] User registered: David

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_ERROR
    Error: Failed to send to Bob
    Error: Failed to send to Bob

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_OUT
    [RMI] Server started on port 16002
    [TEST]  Test 8: Gossip propagation works - Bob has 2 messages
    [Consensus] Sync complete for group c23380b9-4ba6-4c55-86a7-0028e5dc062a - received 2 messages
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals PASSED

GroupChatIntegrationTest > 6. New leader elected when current leader disconnects (6-person group) STANDARD_OUT
    [RMI] Server started on port 16005
    [Registry] User registered: Alice
    [RMI] Server started on port 16006
    [Registry] User registered: Bob
    [RMI] Server started on port 16007
    [Registry] User registered: Charlie
    [RMI] Server started on port 16008
    [Registry] User registered: David
    [RMI] Server started on port 16009
    [Registry] User registered: Eve
    [RMI] Server started on port 16010
    [Registry] User registered: Frank
    [Registry] User unregistered: Alice
    [Gossip] Peer e37c906b suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer d34e15b3 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 949ab058 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer a9911dc8 suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Triggering leader failure callback for group d445b30a-3013-419b-bfdd-30af308fd4cf
    [Gossip] Peer 765ffa11 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer e37c906b suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Peer d34e15b3 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 949ab058 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer a9911dc8 suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Peer 765ffa11 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer e37c906b suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Local timeout detected for group LargeElectionGroup
    [TEST]  Test 6: Leader election completed successfully with 5 remaining members
    [TEST] New leader: Charlie
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve
    [Registry] User unregistered: Frank

GroupChatIntegrationTest > 6. New leader elected when current leader disconnects (6-person group) PASSED

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_OUT
    [RMI] Server started on port 16011
    [Registry] User registered: Alice
    [RMI] Server started on port 16012
    [Registry] User registered: Bob
    [RMI] Server started on port 16013
    [Registry] User registered: Charlie

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_ERROR
    Error: Failed to send to David after 3 attempts

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_OUT
    [TEST]  Test 7: Concurrent messaging works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently PASSED

GroupChatIntegrationTest > 1. Successful group creation with invitation acceptance and messaging STANDARD_OUT
    [RMI] Server started on port 16014
    [Registry] User registered: Alice
    [RMI] Server started on port 16015
    [Registry] User registered: Bob
    [RMI] Server started on port 16016
    [Registry] User registered: Charlie
    [TEST]  Test 1 passed: Group created successfully with invitations and all members can message
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 1. Successful group creation with invitation acceptance and messaging PASSED

GroupChatIntegrationTest > 4. Group creation requires minimum 3 members (creator + 2) STANDARD_OUT
    [RMI] Server started on port 16017
    [Registry] User registered: Alice
    [RMI] Server started on port 16018
    [Registry] User registered: Bob
    [TEST]  Test 4: Minimum group size validation works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

GroupChatIntegrationTest > 4. Group creation requires minimum 3 members (creator + 2) PASSED

GroupChatIntegrationTest > 3. Group creation fails when invitee has no handler (times out) STANDARD_OUT
    [RMI] Server started on port 16019
    [Registry] User registered: Alice
    [RMI] Server started on port 16020
    [Registry] User registered: Bob
    [RMI] Server started on port 16021
    [Registry] User registered: Charlie
    [TEST]  Test 3: Default rejection works when no handler set
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 3. Group creation fails when invitee has no handler (times out) PASSED

GroupChatIntegrationTest > 11. Large group handles rapid fire messages correctly STANDARD_OUT
    [RMI] Server started on port 16022
    [Registry] User registered: Alice
    [RMI] Server started on port 16023
    [Registry] User registered: Bob
    [RMI] Server started on port 16024
    [Registry] User registered: Charlie
    [RMI] Server started on port 16025
    [Registry] User registered: David
    [RMI] Server started on port 16026
    [Registry] User registered: Eve
    [Gossip] Peer 2b585689 suspects leader, we also suspect: false
    [Gossip] Peer 2b585689 suspects leader, we also suspect: false
    [Gossip] Peer 2b585689 suspects leader, we also suspect: false
    [TEST]  Test 11: Large group messaging verified
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve

GroupChatIntegrationTest > 11. Large group handles rapid fire messages correctly PASSED

GroupChatIntegrationTest > 2. Group creation fails when one member rejects invitation STANDARD_OUT
    [RMI] Server started on port 16027
    [Registry] User registered: Alice
    [RMI] Server started on port 16028
    [Registry] User registered: Bob
    [RMI] Server started on port 16029
    [Registry] User registered: Charlie
    [TEST]  Test 2 passed: Group correctly dissolved when member rejects
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 2. Group creation fails when one member rejects invitation PASSED

GroupChatIntegrationTest > 5. Group auto-dissolves when only 2 members remain STANDARD_OUT
    [RMI] Server started on port 16030
    [Registry] User registered: Alice
    [RMI] Server started on port 16031
    [Registry] User registered: Bob
    [RMI] Server started on port 16032
    [Registry] User registered: Charlie
    [Registry] User unregistered: Alice
    [Gossip] Peer 425d80a7 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 3, shouldTrigger: true
    [Gossip] Triggering leader failure callback for group 8331a0f9-b907-45a2-940d-331333418e42
    [Gossip] Local timeout detected for group DissolutionGroup
    [TEST]  Test 5: Group auto-dissolution when below minimum size
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 5. Group auto-dissolves when only 2 members remain PASSED

GroupChatIntegrationTest > 10. Multiple users can create different groups concurrently STANDARD_OUT
    [RMI] Server started on port 16033
    [Registry] User registered: Alice
    [RMI] Server started on port 16034
    [Registry] User registered: Bob
    [RMI] Server started on port 16035
    [Registry] User registered: Charlie
    [RMI] Server started on port 16036
    [Registry] User registered: David
    [TEST]  Test 11: Concurrent group creation works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David

GroupChatIntegrationTest > 10. Multiple users can create different groups concurrently PASSED

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_OUT
    [RMI] Server started on port 16037
    [Registry] User registered: Alice
    [RMI] Server started on port 16038
    [Registry] User registered: Bob
    [RMI] Server started on port 16039
    [Registry] User registered: Charlie
    [RMI] Server started on port 16040
    [Registry] User registered: David
    [RMI] Server started on port 16041
    [Registry] User registered: Eve
    [RMI] Server started on port 16042
    [Registry] User registered: Frank

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_ERROR
    Error: Failed to send to Charlie
    Error: Failed to send to David
    Error: Failed to send to Eve
    Error: Failed to send to Charlie
    Error: Failed to send to David
    Error: Failed to send to Eve
    Error: Failed to send to Charlie
    Error: Failed to send to David
    Error: Failed to send to Eve

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_OUT
    [RMI] Server started on port 16039
    [RMI] Server started on port 16040
    [RMI] Server started on port 16041
    [Consensus] Sync complete for group febe91b2-0d9d-4c1f-81a8-5e3bd3a28ab6 - received 3 messages
    [Consensus] Sync complete for group febe91b2-0d9d-4c1f-81a8-5e3bd3a28ab6 - received 3 messages
    [Consensus] Sync complete for group febe91b2-0d9d-4c1f-81a8-5e3bd3a28ab6 - received 3 messages
    [TEST]  Test 9: Staggered sync works - Charlie: 3, David: 3, Eve: 3
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve
    [Registry] User unregistered: Frank

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects PASSED

GroupChatIntegrationTest STANDARD_OUT
    [GroupChatTest] Bootstrap server stopped

CausalDeliveryManagerTest > Message is deliverable when it's the first from a sender PASSED

CausalDeliveryManagerTest > isDeliverable correctly checks causal dependencies for all processes PASSED

CausalDeliveryManagerTest > Message with unknown causal dependency is buffered PASSED

CausalDeliveryManagerTest > Delivering a message updates the local clock PASSED

CausalDeliveryManagerTest > getPendingMessages returns correct list PASSED

CausalDeliveryManagerTest > Message is buffered when its causal dependencies are not met PASSED

CausalDeliveryManagerTest > Concurrent messages are handled correctly PASSED

CausalDeliveryManagerTest > Buffered messages are delivered when dependencies become available PASSED

CausalDeliveryManagerTest > Messages from multiple senders with interleaved delivery PASSED

40 tests completed, 1 failed

> Task :peer-node:test FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':peer-node:test'.
> There were failing tests. See the report at: file:///home/youssef/projects/java_projects/antigravity_p2p/peer-node/build/reports/tests/test/index.html

* Try:
> Run with --scan to generate a Build Scan (powered by Develocity).

BUILD FAILED in 1m 28s
7 actionable tasks: 1 executed, 6 up-to-date
Exit Code: 1
===== Run #3 =====
> Task :common:compileJava UP-TO-DATE
> Task :bootstrap-server:compileJava UP-TO-DATE
> Task :bootstrap-server:processResources NO-SOURCE
> Task :bootstrap-server:classes UP-TO-DATE
> Task :common:processResources NO-SOURCE
> Task :common:classes UP-TO-DATE
> Task :common:jar UP-TO-DATE
> Task :bootstrap-server:jar UP-TO-DATE
> Task :peer-node:compileJava UP-TO-DATE
> Task :peer-node:processResources NO-SOURCE
> Task :peer-node:classes UP-TO-DATE
> Task :peer-node:compileTestJava UP-TO-DATE
> Task :peer-node:processTestResources NO-SOURCE
> Task :peer-node:testClasses UP-TO-DATE

> Task :peer-node:test

PeerIntegrationTest STANDARD_OUT
    [Test] Bootstrap server started on port 13099

PeerIntegrationTest > Peer can start and stop cleanly STANDARD_OUT
    [RMI] Server started on port 15001
    [Registry] User registered: Alice
    [Registry] User unregistered: Alice
    [Test]  Peer lifecycle works

PeerIntegrationTest > Peer can start and stop cleanly PASSED

PeerIntegrationTest > Two peers can connect and discover each other STANDARD_OUT
    [RMI] Server started on port 15002
    [Registry] User registered: Alice
    [RMI] Server started on port 15003
    [Registry] User registered: Bob
    [Test]  Peer discovery works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Two peers can connect and discover each other PASSED

PeerIntegrationTest > Friend request flow: send and accept STANDARD_OUT
    [RMI] Server started on port 15004
    [Registry] User registered: Alice
    [RMI] Server started on port 15005
    [Registry] User registered: Bob
    [Test]  Friend request flow works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Friend request flow: send and accept PASSED

PeerIntegrationTest > Vector clocks synchronize during friend request STANDARD_OUT
    [RMI] Server started on port 15006
    [Registry] User registered: Alice
    [RMI] Server started on port 15007
    [Registry] User registered: Bob
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Vector clocks synchronize during friend request FAILED
    org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
        at app//org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)
        at app//org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:183)
        at app//p2p.peer.integration.PeerIntegrationTest.testVectorClockSync(PeerIntegrationTest.java:184)

PeerIntegrationTest > Multiple friend requests to same user are idempotent STANDARD_OUT
    [RMI] Server started on port 15008
    [Registry] User registered: Alice
    [RMI] Server started on port 15009
    [Registry] User registered: Bob
    [Test]  Duplicate friend requests handled correctly
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Multiple friend requests to same user are idempotent PASSED

PeerIntegrationTest > Messaging between friends STANDARD_OUT
    [RMI] Server started on port 15010
    [Registry] User registered: Alice
    [RMI] Server started on port 15011
    [Registry] User registered: Bob
    [Test]  Messaging works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Messaging between friends PASSED

PeerIntegrationTest > Three peers can all interact STANDARD_OUT
    [RMI] Server started on port 15012
    [Registry] User registered: Alice
    [RMI] Server started on port 15013
    [Registry] User registered: Bob
    [RMI] Server started on port 15014
    [Registry] User registered: Charlie
    [Test]  Three-peer interaction works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

PeerIntegrationTest > Three peers can all interact PASSED

PeerIntegrationTest > Message causality chain is preserved STANDARD_OUT
    [RMI] Server started on port 15015
    [Registry] User registered: Alice
    [RMI] Server started on port 15016
    [Registry] User registered: Bob
    [Test]  Message causality chain preserved (M1 -> M2 -> M3)
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Message causality chain is preserved PASSED

PeerIntegrationTest > Cannot send message to non-friend STANDARD_OUT
    [RMI] Server started on port 15017
    [Registry] User registered: Alice
    [RMI] Server started on port 15018
    [Registry] User registered: Charlie
    [Test]  Cannot send message to non-friend
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Charlie

PeerIntegrationTest > Cannot send message to non-friend PASSED

PeerIntegrationTest > Multiple messages preserve ordering STANDARD_OUT
    [RMI] Server started on port 15019
    [Registry] User registered: Alice
    [RMI] Server started on port 15020
    [Registry] User registered: Bob
    [Test]  Multiple messages preserve ordering
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Multiple messages preserve ordering PASSED

PeerIntegrationTest STANDARD_OUT
    [Test] Bootstrap server stopped

FriendManagerTest > GetFriendByUsername should be case-insensitive STANDARD_OUT
    User{username='Bob', userId='f8741f05-efe3-4653-8a17-8c2057901813', ip='192.168.1.2', port=5002}

FriendManagerTest > GetFriendByUsername should be case-insensitive PASSED

FriendManagerTest > HandleFriendRequest should not duplicate pending requests PASSED

FriendManagerTest > HandleFriendRequest should ignore if already friends PASSED

FriendManagerTest > GetPendingRequests should return empty list initially PASSED

FriendManagerTest > GetFriendByUsername should return null if not found PASSED

FriendManagerTest > IsFriend should check friend status PASSED

FriendManagerTest > HandleFriendAcceptance should add to friends PASSED

FriendManagerTest > GetFriendByUsername should find friend PASSED

FriendManagerTest > HandleFriendRequest should add to pending requests PASSED

FriendManagerTest > GetFriends should return empty list initially PASSED

GroupChatIntegrationTest STANDARD_OUT
    [GroupChatTest] Bootstrap server started on port 14099

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_OUT
    [RMI] Server started on port 16001
    [Registry] User registered: Alice
    [RMI] Server started on port 16002
    [Registry] User registered: Bob
    [RMI] Server started on port 16003
    [Registry] User registered: Charlie
    [RMI] Server started on port 16004
    [Registry] User registered: David

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_ERROR
    Error: Failed to send to Bob
    Error: Failed to send to Bob

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_OUT
    [RMI] Server started on port 16002
    [TEST]  Test 8: Gossip propagation works - Bob has 2 messages
    [Consensus] Sync complete for group e337c957-4c78-4ed6-bca6-ac6855a02eb5 - received 2 messages
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals PASSED

GroupChatIntegrationTest > 6. New leader elected when current leader disconnects (6-person group) STANDARD_OUT
    [RMI] Server started on port 16005
    [Registry] User registered: Alice
    [RMI] Server started on port 16006
    [Registry] User registered: Bob
    [RMI] Server started on port 16007
    [Registry] User registered: Charlie
    [RMI] Server started on port 16008
    [Registry] User registered: David
    [RMI] Server started on port 16009
    [Registry] User registered: Eve
    [RMI] Server started on port 16010
    [Registry] User registered: Frank
    [Registry] User unregistered: Alice
    [Gossip] Peer 77b3b305 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 2f959357 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer bf26364b suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer ef5e3bb3 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 78757101 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 77b3b305 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 2f959357 suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Triggering leader failure callback for group b4a8ff87-b353-433c-884f-ff0573680a35
    [Gossip] Peer bf26364b suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer ef5e3bb3 suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Triggering leader failure callback for group b4a8ff87-b353-433c-884f-ff0573680a35
    [Gossip] Peer 78757101 suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Peer 77b3b305 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 2f959357 suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Local timeout detected for group LargeElectionGroup
    [Gossip] Peer bf26364b suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Peer ef5e3bb3 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Local timeout detected for group LargeElectionGroup
    [TEST]  Test 6: Leader election completed successfully with 5 remaining members
    [TEST] New leader: Frank
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve
    [Registry] User unregistered: Frank

GroupChatIntegrationTest > 6. New leader elected when current leader disconnects (6-person group) PASSED

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_OUT
    [RMI] Server started on port 16011
    [Registry] User registered: Alice
    [RMI] Server started on port 16012
    [Registry] User registered: Bob
    [RMI] Server started on port 16013
    [Registry] User registered: Charlie

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_ERROR
    Error: Failed to send to Charlie after 3 attempts
    Error: Failed to send to Charlie after 3 attempts
    Error: Failed to send to David after 3 attempts
    Error: Failed to send to Charlie after 3 attempts
    Error: Failed to send to Eve after 3 attempts

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_OUT
    [TEST]  Test 7: Concurrent messaging works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently PASSED

GroupChatIntegrationTest > 1. Successful group creation with invitation acceptance and messaging STANDARD_OUT
    [RMI] Server started on port 16014
    [Registry] User registered: Alice
    [RMI] Server started on port 16015
    [Registry] User registered: Bob
    [RMI] Server started on port 16016
    [Registry] User registered: Charlie
    [TEST]  Test 1 passed: Group created successfully with invitations and all members can message
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 1. Successful group creation with invitation acceptance and messaging PASSED

GroupChatIntegrationTest > 4. Group creation requires minimum 3 members (creator + 2) STANDARD_OUT
    [RMI] Server started on port 16017
    [Registry] User registered: Alice
    [RMI] Server started on port 16018
    [Registry] User registered: Bob
    [TEST]  Test 4: Minimum group size validation works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

GroupChatIntegrationTest > 4. Group creation requires minimum 3 members (creator + 2) PASSED

GroupChatIntegrationTest > 3. Group creation fails when invitee has no handler (times out) STANDARD_OUT
    [RMI] Server started on port 16019
    [Registry] User registered: Alice
    [RMI] Server started on port 16020
    [Registry] User registered: Bob
    [RMI] Server started on port 16021
    [Registry] User registered: Charlie
    [TEST]  Test 3: Default rejection works when no handler set
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 3. Group creation fails when invitee has no handler (times out) PASSED

GroupChatIntegrationTest > 11. Large group handles rapid fire messages correctly STANDARD_OUT
    [RMI] Server started on port 16022
    [Registry] User registered: Alice
    [RMI] Server started on port 16023
    [Registry] User registered: Bob
    [RMI] Server started on port 16024
    [Registry] User registered: Charlie
    [RMI] Server started on port 16025
    [Registry] User registered: David
    [RMI] Server started on port 16026
    [Registry] User registered: Eve
    [Gossip] Peer 378c1b6c suspects leader, we also suspect: false
    [Gossip] Peer 378c1b6c suspects leader, we also suspect: false
    [Gossip] Peer 378c1b6c suspects leader, we also suspect: false
    [TEST]  Test 11: Large group messaging verified
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve

GroupChatIntegrationTest > 11. Large group handles rapid fire messages correctly PASSED

GroupChatIntegrationTest > 2. Group creation fails when one member rejects invitation STANDARD_OUT
    [RMI] Server started on port 16027
    [Registry] User registered: Alice
    [RMI] Server started on port 16028
    [Registry] User registered: Bob
    [RMI] Server started on port 16029
    [Registry] User registered: Charlie
    [TEST]  Test 2 passed: Group correctly dissolved when member rejects
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 2. Group creation fails when one member rejects invitation PASSED

GroupChatIntegrationTest > 5. Group auto-dissolves when only 2 members remain STANDARD_OUT
    [RMI] Server started on port 16030
    [Registry] User registered: Alice
    [RMI] Server started on port 16031
    [Registry] User registered: Bob
    [RMI] Server started on port 16032
    [Registry] User registered: Charlie
    [Registry] User unregistered: Alice
    [Gossip] Peer 05bd18ca suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 3, shouldTrigger: true
    [Gossip] Triggering leader failure callback for group e2e8cb34-0f77-49f4-8385-c9bf35df46e8
    [Gossip] Local timeout detected for group DissolutionGroup
    [TEST]  Test 5: Group auto-dissolution when below minimum size
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 5. Group auto-dissolves when only 2 members remain PASSED

GroupChatIntegrationTest > 10. Multiple users can create different groups concurrently STANDARD_OUT
    [RMI] Server started on port 16033
    [Registry] User registered: Alice
    [RMI] Server started on port 16034
    [Registry] User registered: Bob
    [RMI] Server started on port 16035
    [Registry] User registered: Charlie
    [RMI] Server started on port 16036
    [Registry] User registered: David
    [TEST]  Test 11: Concurrent group creation works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David

GroupChatIntegrationTest > 10. Multiple users can create different groups concurrently PASSED

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_OUT
    [RMI] Server started on port 16037
    [Registry] User registered: Alice
    [RMI] Server started on port 16038
    [Registry] User registered: Bob
    [RMI] Server started on port 16039
    [Registry] User registered: Charlie
    [RMI] Server started on port 16040
    [Registry] User registered: David
    [RMI] Server started on port 16041
    [Registry] User registered: Eve
    [RMI] Server started on port 16042
    [Registry] User registered: Frank

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_ERROR
    Error: Failed to send to David
    Error: Failed to send to Charlie
    Error: Failed to send to Eve
    Error: Failed to send to David
    Error: Failed to send to Charlie
    Error: Failed to send to Eve
    Error: Failed to send to David
    Error: Failed to send to Charlie
    Error: Failed to send to Eve

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_OUT
    [RMI] Server started on port 16039
    [RMI] Server started on port 16040
    [RMI] Server started on port 16041
    [Consensus] Sync complete for group f75f0217-da6a-4106-b305-8192a7f5dd75 - received 3 messages
    [Consensus] Sync complete for group f75f0217-da6a-4106-b305-8192a7f5dd75 - received 3 messages
    [Consensus] Sync complete for group f75f0217-da6a-4106-b305-8192a7f5dd75 - received 3 messages
    [TEST]  Test 9: Staggered sync works - Charlie: 3, David: 3, Eve: 3
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve
    [Registry] User unregistered: Frank

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects PASSED

GroupChatIntegrationTest STANDARD_OUT
    [GroupChatTest] Bootstrap server stopped

CausalDeliveryManagerTest > Message is deliverable when it's the first from a sender PASSED

CausalDeliveryManagerTest > isDeliverable correctly checks causal dependencies for all processes PASSED

CausalDeliveryManagerTest > Message with unknown causal dependency is buffered PASSED

CausalDeliveryManagerTest > Delivering a message updates the local clock PASSED

CausalDeliveryManagerTest > getPendingMessages returns correct list PASSED

CausalDeliveryManagerTest > Message is buffered when its causal dependencies are not met PASSED

CausalDeliveryManagerTest > Concurrent messages are handled correctly PASSED

CausalDeliveryManagerTest > Buffered messages are delivered when dependencies become available PASSED

CausalDeliveryManagerTest > Messages from multiple senders with interleaved delivery PASSED

40 tests completed, 1 failed

> Task :peer-node:test FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':peer-node:test'.
> There were failing tests. See the report at: file:///home/youssef/projects/java_projects/antigravity_p2p/peer-node/build/reports/tests/test/index.html

* Try:
> Run with --scan to generate a Build Scan (powered by Develocity).

BUILD FAILED in 1m 30s
7 actionable tasks: 1 executed, 6 up-to-date
Exit Code: 1
===== Run #4 =====
> Task :common:compileJava UP-TO-DATE
> Task :bootstrap-server:compileJava UP-TO-DATE
> Task :bootstrap-server:processResources NO-SOURCE
> Task :bootstrap-server:classes UP-TO-DATE
> Task :common:processResources NO-SOURCE
> Task :common:classes UP-TO-DATE
> Task :common:jar UP-TO-DATE
> Task :bootstrap-server:jar UP-TO-DATE
> Task :peer-node:compileJava UP-TO-DATE
> Task :peer-node:processResources NO-SOURCE
> Task :peer-node:classes UP-TO-DATE
> Task :peer-node:compileTestJava UP-TO-DATE
> Task :peer-node:processTestResources NO-SOURCE
> Task :peer-node:testClasses UP-TO-DATE

> Task :peer-node:test

PeerIntegrationTest STANDARD_OUT
    [Test] Bootstrap server started on port 13099

PeerIntegrationTest > Peer can start and stop cleanly STANDARD_OUT
    [RMI] Server started on port 15001
    [Registry] User registered: Alice
    [Registry] User unregistered: Alice
    [Test]  Peer lifecycle works

PeerIntegrationTest > Peer can start and stop cleanly PASSED

PeerIntegrationTest > Two peers can connect and discover each other STANDARD_OUT
    [RMI] Server started on port 15002
    [Registry] User registered: Alice
    [RMI] Server started on port 15003
    [Registry] User registered: Bob
    [Test]  Peer discovery works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Two peers can connect and discover each other PASSED

PeerIntegrationTest > Friend request flow: send and accept STANDARD_OUT
    [RMI] Server started on port 15004
    [Registry] User registered: Alice
    [RMI] Server started on port 15005
    [Registry] User registered: Bob
    [Test]  Friend request flow works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Friend request flow: send and accept PASSED

PeerIntegrationTest > Vector clocks synchronize during friend request STANDARD_OUT
    [RMI] Server started on port 15006
    [Registry] User registered: Alice
    [RMI] Server started on port 15007
    [Registry] User registered: Bob
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Vector clocks synchronize during friend request FAILED
    org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
        at app//org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)
        at app//org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:183)
        at app//p2p.peer.integration.PeerIntegrationTest.testVectorClockSync(PeerIntegrationTest.java:184)

PeerIntegrationTest > Multiple friend requests to same user are idempotent STANDARD_OUT
    [RMI] Server started on port 15008
    [Registry] User registered: Alice
    [RMI] Server started on port 15009
    [Registry] User registered: Bob
    [Test]  Duplicate friend requests handled correctly
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Multiple friend requests to same user are idempotent PASSED

PeerIntegrationTest > Messaging between friends STANDARD_OUT
    [RMI] Server started on port 15010
    [Registry] User registered: Alice
    [RMI] Server started on port 15011
    [Registry] User registered: Bob
    [Test]  Messaging works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Messaging between friends PASSED

PeerIntegrationTest > Three peers can all interact STANDARD_OUT
    [RMI] Server started on port 15012
    [Registry] User registered: Alice
    [RMI] Server started on port 15013
    [Registry] User registered: Bob
    [RMI] Server started on port 15014
    [Registry] User registered: Charlie
    [Test]  Three-peer interaction works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

PeerIntegrationTest > Three peers can all interact PASSED

PeerIntegrationTest > Message causality chain is preserved STANDARD_OUT
    [RMI] Server started on port 15015
    [Registry] User registered: Alice
    [RMI] Server started on port 15016
    [Registry] User registered: Bob
    [Test]  Message causality chain preserved (M1 -> M2 -> M3)
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Message causality chain is preserved PASSED

PeerIntegrationTest > Cannot send message to non-friend STANDARD_OUT
    [RMI] Server started on port 15017
    [Registry] User registered: Alice
    [RMI] Server started on port 15018
    [Registry] User registered: Charlie
    [Test]  Cannot send message to non-friend
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Charlie

PeerIntegrationTest > Cannot send message to non-friend PASSED

PeerIntegrationTest > Multiple messages preserve ordering STANDARD_OUT
    [RMI] Server started on port 15019
    [Registry] User registered: Alice
    [RMI] Server started on port 15020
    [Registry] User registered: Bob
    [Test]  Multiple messages preserve ordering
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Multiple messages preserve ordering PASSED

PeerIntegrationTest STANDARD_OUT
    [Test] Bootstrap server stopped

FriendManagerTest > GetFriendByUsername should be case-insensitive STANDARD_OUT
    User{username='Bob', userId='8e39b8b7-4f5e-4482-b788-6919443a4a1b', ip='192.168.1.2', port=5002}

FriendManagerTest > GetFriendByUsername should be case-insensitive PASSED

FriendManagerTest > HandleFriendRequest should not duplicate pending requests PASSED

FriendManagerTest > HandleFriendRequest should ignore if already friends PASSED

FriendManagerTest > GetPendingRequests should return empty list initially PASSED

FriendManagerTest > GetFriendByUsername should return null if not found PASSED

FriendManagerTest > IsFriend should check friend status PASSED

FriendManagerTest > HandleFriendAcceptance should add to friends PASSED

FriendManagerTest > GetFriendByUsername should find friend PASSED

FriendManagerTest > HandleFriendRequest should add to pending requests PASSED

FriendManagerTest > GetFriends should return empty list initially PASSED

GroupChatIntegrationTest STANDARD_OUT
    [GroupChatTest] Bootstrap server started on port 14099

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_OUT
    [RMI] Server started on port 16001
    [Registry] User registered: Alice
    [RMI] Server started on port 16002
    [Registry] User registered: Bob
    [RMI] Server started on port 16003
    [Registry] User registered: Charlie
    [RMI] Server started on port 16004
    [Registry] User registered: David

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_ERROR
    Error: Failed to send to Bob
    Error: Failed to send to Bob

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_OUT
    [RMI] Server started on port 16002
    [TEST]  Test 8: Gossip propagation works - Bob has 2 messages
    [Consensus] Sync complete for group 37b27b37-64a7-42e4-a767-042a8e23af04 - received 2 messages
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals PASSED

GroupChatIntegrationTest > 6. New leader elected when current leader disconnects (6-person group) STANDARD_OUT
    [RMI] Server started on port 16005
    [Registry] User registered: Alice
    [RMI] Server started on port 16006
    [Registry] User registered: Bob
    [RMI] Server started on port 16007
    [Registry] User registered: Charlie
    [RMI] Server started on port 16008
    [Registry] User registered: David
    [RMI] Server started on port 16009
    [Registry] User registered: Eve
    [RMI] Server started on port 16010
    [Registry] User registered: Frank
    [Registry] User unregistered: Alice
    [Gossip] Peer 2aab5c10 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 06d144e8 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer e105c7fe suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer b649106b suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer d07e838c suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 2aab5c10 suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Triggering leader failure callback for group 0e14b192-3736-46f1-9a79-3bf5d65bbae1
    [Gossip] Peer 06d144e8 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer e105c7fe suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer b649106b suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer d07e838c suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 2aab5c10 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Local timeout detected for group LargeElectionGroup
    [Gossip] Peer 06d144e8 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Local timeout detected for group LargeElectionGroup
    [Gossip] Peer e105c7fe suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Local timeout detected for group LargeElectionGroup
    [TEST]  Test 6: Leader election completed successfully with 5 remaining members
    [TEST] New leader: Eve
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve
    [Registry] User unregistered: Frank

GroupChatIntegrationTest > 6. New leader elected when current leader disconnects (6-person group) PASSED

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_OUT
    [RMI] Server started on port 16011
    [Registry] User registered: Alice
    [RMI] Server started on port 16012
    [Registry] User registered: Bob
    [RMI] Server started on port 16013
    [Registry] User registered: Charlie

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_ERROR
    Error: Failed to send to Bob after 3 attempts
    Error: Failed to send to Frank after 3 attempts
    Error: Failed to send to Charlie after 3 attempts
    Error: Failed to send to Bob after 3 attempts
    Error: Failed to send to David after 3 attempts

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_OUT
    [TEST]  Test 7: Concurrent messaging works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently PASSED

GroupChatIntegrationTest > 1. Successful group creation with invitation acceptance and messaging STANDARD_OUT
    [RMI] Server started on port 16014
    [Registry] User registered: Alice
    [RMI] Server started on port 16015
    [Registry] User registered: Bob
    [RMI] Server started on port 16016
    [Registry] User registered: Charlie
    [TEST]  Test 1 passed: Group created successfully with invitations and all members can message
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 1. Successful group creation with invitation acceptance and messaging PASSED

GroupChatIntegrationTest > 4. Group creation requires minimum 3 members (creator + 2) STANDARD_OUT
    [RMI] Server started on port 16017
    [Registry] User registered: Alice
    [RMI] Server started on port 16018
    [Registry] User registered: Bob
    [TEST]  Test 4: Minimum group size validation works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

GroupChatIntegrationTest > 4. Group creation requires minimum 3 members (creator + 2) PASSED

GroupChatIntegrationTest > 3. Group creation fails when invitee has no handler (times out) STANDARD_OUT
    [RMI] Server started on port 16019
    [Registry] User registered: Alice
    [RMI] Server started on port 16020
    [Registry] User registered: Bob
    [RMI] Server started on port 16021
    [Registry] User registered: Charlie
    [TEST]  Test 3: Default rejection works when no handler set
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 3. Group creation fails when invitee has no handler (times out) PASSED

GroupChatIntegrationTest > 11. Large group handles rapid fire messages correctly STANDARD_OUT
    [RMI] Server started on port 16022
    [Registry] User registered: Alice
    [RMI] Server started on port 16023
    [Registry] User registered: Bob
    [RMI] Server started on port 16024
    [Registry] User registered: Charlie
    [RMI] Server started on port 16025
    [Registry] User registered: David
    [RMI] Server started on port 16026
    [Registry] User registered: Eve
    [Gossip] Peer 8d5f3982 suspects leader, we also suspect: false
    [Gossip] Peer 8d5f3982 suspects leader, we also suspect: false
    [Gossip] Peer 8d5f3982 suspects leader, we also suspect: false
    [TEST]  Test 11: Large group messaging verified
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve

GroupChatIntegrationTest > 11. Large group handles rapid fire messages correctly PASSED

GroupChatIntegrationTest > 2. Group creation fails when one member rejects invitation STANDARD_OUT
    [RMI] Server started on port 16027
    [Registry] User registered: Alice
    [RMI] Server started on port 16028
    [Registry] User registered: Bob
    [RMI] Server started on port 16029
    [Registry] User registered: Charlie
    [TEST]  Test 2 passed: Group correctly dissolved when member rejects
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 2. Group creation fails when one member rejects invitation PASSED

GroupChatIntegrationTest > 5. Group auto-dissolves when only 2 members remain STANDARD_OUT
    [RMI] Server started on port 16030
    [Registry] User registered: Alice
    [RMI] Server started on port 16031
    [Registry] User registered: Bob
    [RMI] Server started on port 16032
    [Registry] User registered: Charlie
    [Registry] User unregistered: Alice
    [Gossip] Peer c5523f27 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 3, shouldTrigger: true
    [Gossip] Triggering leader failure callback for group cd43cadc-9fe9-402e-bd9c-d94583a1b40b
    [Gossip] Local timeout detected for group DissolutionGroup
    [TEST]  Test 5: Group auto-dissolution when below minimum size
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 5. Group auto-dissolves when only 2 members remain PASSED

GroupChatIntegrationTest > 10. Multiple users can create different groups concurrently STANDARD_OUT
    [RMI] Server started on port 16033
    [Registry] User registered: Alice
    [RMI] Server started on port 16034
    [Registry] User registered: Bob
    [RMI] Server started on port 16035
    [Registry] User registered: Charlie
    [RMI] Server started on port 16036
    [Registry] User registered: David
    [TEST]  Test 11: Concurrent group creation works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David

GroupChatIntegrationTest > 10. Multiple users can create different groups concurrently PASSED

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_OUT
    [RMI] Server started on port 16037
    [Registry] User registered: Alice
    [RMI] Server started on port 16038
    [Registry] User registered: Bob
    [RMI] Server started on port 16039
    [Registry] User registered: Charlie
    [RMI] Server started on port 16040
    [Registry] User registered: David
    [RMI] Server started on port 16041
    [Registry] User registered: Eve
    [RMI] Server started on port 16042
    [Registry] User registered: Frank

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_ERROR
    Error: Failed to send to Eve
    Error: Failed to send to Charlie
    Error: Failed to send to David
    Error: Failed to send to Eve
    Error: Failed to send to Charlie
    Error: Failed to send to David
    Error: Failed to send to Eve
    Error: Failed to send to Charlie
    Error: Failed to send to David

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_OUT
    [RMI] Server started on port 16039
    [RMI] Server started on port 16040
    [RMI] Server started on port 16041
    [Consensus] Sync complete for group d126d37b-a33c-4bfa-817f-e64eeae5d65e - received 3 messages
    [Consensus] Sync complete for group d126d37b-a33c-4bfa-817f-e64eeae5d65e - received 3 messages
    [Consensus] Sync complete for group d126d37b-a33c-4bfa-817f-e64eeae5d65e - received 3 messages
    [TEST]  Test 9: Staggered sync works - Charlie: 3, David: 3, Eve: 3
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve
    [Registry] User unregistered: Frank

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects PASSED

GroupChatIntegrationTest STANDARD_OUT
    [GroupChatTest] Bootstrap server stopped

CausalDeliveryManagerTest > Message is deliverable when it's the first from a sender PASSED

CausalDeliveryManagerTest > isDeliverable correctly checks causal dependencies for all processes PASSED

CausalDeliveryManagerTest > Message with unknown causal dependency is buffered PASSED

CausalDeliveryManagerTest > Delivering a message updates the local clock PASSED

CausalDeliveryManagerTest > getPendingMessages returns correct list PASSED

CausalDeliveryManagerTest > Message is buffered when its causal dependencies are not met PASSED

CausalDeliveryManagerTest > Concurrent messages are handled correctly PASSED

CausalDeliveryManagerTest > Buffered messages are delivered when dependencies become available PASSED

CausalDeliveryManagerTest > Messages from multiple senders with interleaved delivery PASSED

40 tests completed, 1 failed

> Task :peer-node:test FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':peer-node:test'.
> There were failing tests. See the report at: file:///home/youssef/projects/java_projects/antigravity_p2p/peer-node/build/reports/tests/test/index.html

* Try:
> Run with --scan to generate a Build Scan (powered by Develocity).

BUILD FAILED in 1m 28s
7 actionable tasks: 1 executed, 6 up-to-date
Exit Code: 1
===== Run #5 =====
> Task :common:compileJava UP-TO-DATE
> Task :bootstrap-server:compileJava UP-TO-DATE
> Task :bootstrap-server:processResources NO-SOURCE
> Task :bootstrap-server:classes UP-TO-DATE
> Task :common:processResources NO-SOURCE
> Task :common:classes UP-TO-DATE
> Task :common:jar UP-TO-DATE
> Task :bootstrap-server:jar UP-TO-DATE
> Task :peer-node:compileJava UP-TO-DATE
> Task :peer-node:processResources NO-SOURCE
> Task :peer-node:classes UP-TO-DATE
> Task :peer-node:compileTestJava UP-TO-DATE
> Task :peer-node:processTestResources NO-SOURCE
> Task :peer-node:testClasses UP-TO-DATE

> Task :peer-node:test

PeerIntegrationTest STANDARD_OUT
    [Test] Bootstrap server started on port 13099

PeerIntegrationTest > Peer can start and stop cleanly STANDARD_OUT
    [RMI] Server started on port 15001
    [Registry] User registered: Alice
    [Registry] User unregistered: Alice
    [Test]  Peer lifecycle works

PeerIntegrationTest > Peer can start and stop cleanly PASSED

PeerIntegrationTest > Two peers can connect and discover each other STANDARD_OUT
    [RMI] Server started on port 15002
    [Registry] User registered: Alice
    [RMI] Server started on port 15003
    [Registry] User registered: Bob
    [Test]  Peer discovery works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Two peers can connect and discover each other PASSED

PeerIntegrationTest > Friend request flow: send and accept STANDARD_OUT
    [RMI] Server started on port 15004
    [Registry] User registered: Alice
    [RMI] Server started on port 15005
    [Registry] User registered: Bob
    [Test]  Friend request flow works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Friend request flow: send and accept PASSED

PeerIntegrationTest > Vector clocks synchronize during friend request STANDARD_OUT
    [RMI] Server started on port 15006
    [Registry] User registered: Alice
    [RMI] Server started on port 15007
    [Registry] User registered: Bob
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Vector clocks synchronize during friend request FAILED
    org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
        at app//org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)
        at app//org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:183)
        at app//p2p.peer.integration.PeerIntegrationTest.testVectorClockSync(PeerIntegrationTest.java:184)

PeerIntegrationTest > Multiple friend requests to same user are idempotent STANDARD_OUT
    [RMI] Server started on port 15008
    [Registry] User registered: Alice
    [RMI] Server started on port 15009
    [Registry] User registered: Bob
    [Test]  Duplicate friend requests handled correctly
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Multiple friend requests to same user are idempotent PASSED

PeerIntegrationTest > Messaging between friends STANDARD_OUT
    [RMI] Server started on port 15010
    [Registry] User registered: Alice
    [RMI] Server started on port 15011
    [Registry] User registered: Bob
    [Test]  Messaging works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Messaging between friends PASSED

PeerIntegrationTest > Three peers can all interact STANDARD_OUT
    [RMI] Server started on port 15012
    [Registry] User registered: Alice
    [RMI] Server started on port 15013
    [Registry] User registered: Bob
    [RMI] Server started on port 15014
    [Registry] User registered: Charlie
    [Test]  Three-peer interaction works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

PeerIntegrationTest > Three peers can all interact PASSED

PeerIntegrationTest > Message causality chain is preserved STANDARD_OUT
    [RMI] Server started on port 15015
    [Registry] User registered: Alice
    [RMI] Server started on port 15016
    [Registry] User registered: Bob
    [Test]  Message causality chain preserved (M1 -> M2 -> M3)
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Message causality chain is preserved PASSED

PeerIntegrationTest > Cannot send message to non-friend STANDARD_OUT
    [RMI] Server started on port 15017
    [Registry] User registered: Alice
    [RMI] Server started on port 15018
    [Registry] User registered: Charlie
    [Test]  Cannot send message to non-friend
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Charlie

PeerIntegrationTest > Cannot send message to non-friend PASSED

PeerIntegrationTest > Multiple messages preserve ordering STANDARD_OUT
    [RMI] Server started on port 15019
    [Registry] User registered: Alice
    [RMI] Server started on port 15020
    [Registry] User registered: Bob
    [Test]  Multiple messages preserve ordering
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

PeerIntegrationTest > Multiple messages preserve ordering PASSED

PeerIntegrationTest STANDARD_OUT
    [Test] Bootstrap server stopped

FriendManagerTest > GetFriendByUsername should be case-insensitive STANDARD_OUT
    User{username='Bob', userId='8fc3c516-b7ba-42b5-b07d-59b2588b26b2', ip='192.168.1.2', port=5002}

FriendManagerTest > GetFriendByUsername should be case-insensitive PASSED

FriendManagerTest > HandleFriendRequest should not duplicate pending requests PASSED

FriendManagerTest > HandleFriendRequest should ignore if already friends PASSED

FriendManagerTest > GetPendingRequests should return empty list initially PASSED

FriendManagerTest > GetFriendByUsername should return null if not found PASSED

FriendManagerTest > IsFriend should check friend status PASSED

FriendManagerTest > HandleFriendAcceptance should add to friends PASSED

FriendManagerTest > GetFriendByUsername should find friend PASSED

FriendManagerTest > HandleFriendRequest should add to pending requests PASSED

FriendManagerTest > GetFriends should return empty list initially PASSED

GroupChatIntegrationTest STANDARD_OUT
    [GroupChatTest] Bootstrap server started on port 14099

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_OUT
    [RMI] Server started on port 16001
    [Registry] User registered: Alice
    [RMI] Server started on port 16002
    [Registry] User registered: Bob
    [RMI] Server started on port 16003
    [Registry] User registered: Charlie
    [RMI] Server started on port 16004
    [Registry] User registered: David

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_ERROR
    Error: Failed to send to Bob
    Error: Failed to send to Bob

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals STANDARD_OUT
    [RMI] Server started on port 16002
    [TEST]  Test 8: Gossip propagation works - Bob has 2 messages
    [Consensus] Sync complete for group 9396d7e9-2078-445a-9701-79c6e05b0db8 - received 2 messages
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David

GroupChatIntegrationTest > 8. Gossip syncs messages after network partition heals PASSED

GroupChatIntegrationTest > 6. New leader elected when current leader disconnects (6-person group) STANDARD_OUT
    [RMI] Server started on port 16005
    [Registry] User registered: Alice
    [RMI] Server started on port 16006
    [Registry] User registered: Bob
    [RMI] Server started on port 16007
    [Registry] User registered: Charlie
    [RMI] Server started on port 16008
    [Registry] User registered: David
    [RMI] Server started on port 16009
    [Registry] User registered: Eve
    [RMI] Server started on port 16010
    [Registry] User registered: Frank
    [Registry] User unregistered: Alice
    [Gossip] Peer 1760b639 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer dcb55175 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 22978229 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 2a80cec0 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 3463ce70 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 1760b639 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer dcb55175 suspects leader, we also suspect: true
    [Gossip] Reports: 2, totalMembers: 6, shouldTrigger: false
    [Gossip] Peer 22978229 suspects leader, we also suspect: true
    [Gossip] Reports: 3, totalMembers: 6, shouldTrigger: true
    [Gossip] Triggering leader failure callback for group f31553cb-9b92-4f67-9f19-a87088f8d1b2
    [TEST]  Test 6: Leader election completed successfully with 5 remaining members
    [TEST] New leader: David
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve
    [Registry] User unregistered: Frank

GroupChatIntegrationTest > 6. New leader elected when current leader disconnects (6-person group) PASSED

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_OUT
    [RMI] Server started on port 16011
    [Registry] User registered: Alice
    [RMI] Server started on port 16012
    [Registry] User registered: Bob
    [RMI] Server started on port 16013
    [Registry] User registered: Charlie

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_ERROR
    Error: Failed to send to Bob after 3 attempts
    Error: Failed to send to Charlie after 3 attempts

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently STANDARD_OUT
    [TEST]  Test 7: Concurrent messaging works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 7. Multiple members can send messages concurrently PASSED

GroupChatIntegrationTest > 1. Successful group creation with invitation acceptance and messaging STANDARD_OUT
    [RMI] Server started on port 16014
    [Registry] User registered: Alice
    [RMI] Server started on port 16015
    [Registry] User registered: Bob
    [RMI] Server started on port 16016
    [Registry] User registered: Charlie
    [TEST]  Test 1 passed: Group created successfully with invitations and all members can message
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 1. Successful group creation with invitation acceptance and messaging PASSED

GroupChatIntegrationTest > 4. Group creation requires minimum 3 members (creator + 2) STANDARD_OUT
    [RMI] Server started on port 16017
    [Registry] User registered: Alice
    [RMI] Server started on port 16018
    [Registry] User registered: Bob
    [TEST]  Test 4: Minimum group size validation works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob

GroupChatIntegrationTest > 4. Group creation requires minimum 3 members (creator + 2) PASSED

GroupChatIntegrationTest > 3. Group creation fails when invitee has no handler (times out) STANDARD_OUT
    [RMI] Server started on port 16019
    [Registry] User registered: Alice
    [RMI] Server started on port 16020
    [Registry] User registered: Bob
    [RMI] Server started on port 16021
    [Registry] User registered: Charlie
    [TEST]  Test 3: Default rejection works when no handler set
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 3. Group creation fails when invitee has no handler (times out) PASSED

GroupChatIntegrationTest > 11. Large group handles rapid fire messages correctly STANDARD_OUT
    [RMI] Server started on port 16022
    [Registry] User registered: Alice
    [RMI] Server started on port 16023
    [Registry] User registered: Bob
    [RMI] Server started on port 16024
    [Registry] User registered: Charlie
    [RMI] Server started on port 16025
    [Registry] User registered: David
    [RMI] Server started on port 16026
    [Registry] User registered: Eve
    [Gossip] Peer 661e1e0d suspects leader, we also suspect: false
    [Gossip] Peer 661e1e0d suspects leader, we also suspect: false
    [Gossip] Peer 661e1e0d suspects leader, we also suspect: false
    [TEST]  Test 11: Large group messaging verified
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve

GroupChatIntegrationTest > 11. Large group handles rapid fire messages correctly PASSED

GroupChatIntegrationTest > 2. Group creation fails when one member rejects invitation STANDARD_OUT
    [RMI] Server started on port 16027
    [Registry] User registered: Alice
    [RMI] Server started on port 16028
    [Registry] User registered: Bob
    [RMI] Server started on port 16029
    [Registry] User registered: Charlie
    [TEST]  Test 2 passed: Group correctly dissolved when member rejects
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 2. Group creation fails when one member rejects invitation PASSED

GroupChatIntegrationTest > 5. Group auto-dissolves when only 2 members remain STANDARD_OUT
    [RMI] Server started on port 16030
    [Registry] User registered: Alice
    [RMI] Server started on port 16031
    [Registry] User registered: Bob
    [RMI] Server started on port 16032
    [Registry] User registered: Charlie
    [Registry] User unregistered: Alice
    [Gossip] Peer 86de93b1 suspects leader, we also suspect: true
    [Gossip] Reports: 1, totalMembers: 3, shouldTrigger: true
    [Gossip] Triggering leader failure callback for group b0e35f4e-7888-4d54-af22-cf49cc6d17b5
    [Gossip] Local timeout detected for group DissolutionGroup
    [TEST]  Test 5: Group auto-dissolution when below minimum size
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie

GroupChatIntegrationTest > 5. Group auto-dissolves when only 2 members remain PASSED

GroupChatIntegrationTest > 10. Multiple users can create different groups concurrently STANDARD_OUT
    [RMI] Server started on port 16033
    [Registry] User registered: Alice
    [RMI] Server started on port 16034
    [Registry] User registered: Bob
    [RMI] Server started on port 16035
    [Registry] User registered: Charlie
    [RMI] Server started on port 16036
    [Registry] User registered: David
    [TEST]  Test 11: Concurrent group creation works
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David

GroupChatIntegrationTest > 10. Multiple users can create different groups concurrently PASSED

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_OUT
    [RMI] Server started on port 16037
    [Registry] User registered: Alice
    [RMI] Server started on port 16038
    [Registry] User registered: Bob
    [RMI] Server started on port 16039
    [Registry] User registered: Charlie
    [RMI] Server started on port 16040
    [Registry] User registered: David
    [RMI] Server started on port 16041
    [Registry] User registered: Eve
    [RMI] Server started on port 16042
    [Registry] User registered: Frank

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_ERROR
    Error: Failed to send to Charlie
    Error: Failed to send to David
    Error: Failed to send to Eve
    Error: Failed to send to Charlie
    Error: Failed to send to David
    Error: Failed to send to Eve
    Error: Failed to send to Charlie
    Error: Failed to send to David
    Error: Failed to send to Eve

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects STANDARD_OUT
    [RMI] Server started on port 16039
    [RMI] Server started on port 16040
    [RMI] Server started on port 16041
    [Consensus] Sync complete for group 3135dc90-33be-45bf-a27c-862f5d3d5f48 - received 3 messages
    [Consensus] Sync complete for group 3135dc90-33be-45bf-a27c-862f5d3d5f48 - received 3 messages
    [Consensus] Sync complete for group 3135dc90-33be-45bf-a27c-862f5d3d5f48 - received 3 messages
    [TEST]  Test 9: Staggered sync works - Charlie: 3, David: 3, Eve: 3
    [Registry] User unregistered: Alice
    [Registry] User unregistered: Bob
    [Registry] User unregistered: Charlie
    [Registry] User unregistered: David
    [Registry] User unregistered: Eve
    [Registry] User unregistered: Frank

GroupChatIntegrationTest > 9. Multiple peers sync missing messages after staggered disconnects PASSED

GroupChatIntegrationTest STANDARD_OUT
    [GroupChatTest] Bootstrap server stopped

CausalDeliveryManagerTest > Message is deliverable when it's the first from a sender PASSED

CausalDeliveryManagerTest > isDeliverable correctly checks causal dependencies for all processes PASSED

CausalDeliveryManagerTest > Message with unknown causal dependency is buffered PASSED

CausalDeliveryManagerTest > Delivering a message updates the local clock PASSED

CausalDeliveryManagerTest > getPendingMessages returns correct list PASSED

CausalDeliveryManagerTest > Message is buffered when its causal dependencies are not met PASSED

CausalDeliveryManagerTest > Concurrent messages are handled correctly PASSED

CausalDeliveryManagerTest > Buffered messages are delivered when dependencies become available PASSED

CausalDeliveryManagerTest > Messages from multiple senders with interleaved delivery PASSED

40 tests completed, 1 failed

> Task :peer-node:test FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':peer-node:test'.
> There were failing tests. See the report at: file:///home/youssef/projects/java_projects/antigravity_p2p/peer-node/build/reports/tests/test/index.html

* Try:
> Run with --scan to generate a Build Scan (powered by Develocity).

BUILD FAILED in 1m 28s
7 actionable tasks: 1 executed, 6 up-to-date
Exit Code: 1
